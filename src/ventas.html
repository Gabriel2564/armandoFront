<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ventas - LlanterÃ­a</title>
    <link rel="stylesheet" href="css/ventas.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>ğŸ›’ Sistema de Ventas - LlanterÃ­a</h1>
            <div class="header-actions">
                <button id="btn-volver" class="btn btn-secondary">â† Volver a Stock</button>
                <button id="btn-ver-ventas" class="btn btn-info">ğŸ“Š Ver Ventas del DÃ­a</button>
            </div>
        </header>

        <!-- Dos columnas: Productos y Carrito -->
        <div class="ventas-layout">
            <!-- Columna Izquierda: Productos -->
            <div class="productos-section">
                <h2>Productos Disponibles</h2>
                
                <div class="search-section">
                    <input type="text" id="search-producto" placeholder="ğŸ” Buscar producto..." class="search-input">
                    <select id="filter-tipo-producto" class="filter-select">
                        <option value="">Todos los Tipos</option>
                    </select>
                </div>

                <div class="productos-grid" id="productos-grid">
                    <div class="loading">Cargando productos...</div>
                </div>
            </div>

            <!-- Columna Derecha: Carrito -->
            <div class="carrito-section">
                <div class="carrito-header">
                    <h2>ğŸ›’ Carrito de Venta</h2>
                    <button id="btn-limpiar" class="btn btn-secondary btn-sm">ğŸ—‘ï¸ Limpiar</button>
                </div>

                <!-- Cliente -->
                <div class="cliente-info">
                    <input type="text" id="input-cliente" placeholder="Nombre del cliente (opcional)" class="form-control">
                </div>

                <!-- Items del carrito -->
                <div class="carrito-items" id="carrito-items">
                    <div class="carrito-vacio">
                        <p>El carrito estÃ¡ vacÃ­o</p>
                        <p>Selecciona productos para comenzar</p>
                    </div>
                </div>

                <!-- Total -->
                <div class="total-section">
                    <div class="total-row">
                        <span>TOTAL:</span>
                        <span id="total-venta" class="total-amount">S/ 0.00</span>
                    </div>
                </div>

                <!-- Observaciones -->
                <div class="form-group">
                    <textarea id="input-observaciones" placeholder="Observaciones (opcional)" rows="2"></textarea>
                </div>

                <!-- BotÃ³n Vender -->
                <button id="btn-procesar-venta" class="btn btn-success btn-large" disabled>
                    ğŸ’° Procesar Venta
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Boleta -->
    <div id="modal-boleta" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>âœ… Venta Registrada</h2>
                <button id="btn-close-boleta" class="btn-close">âœ•</button>
            </div>
            
            <div class="boleta-content" id="boleta-content">
                <!-- Contenido dinÃ¡mico -->
            </div>

            <div class="modal-actions">
                <button id="btn-imprimir" class="btn btn-primary">ğŸ–¨ï¸ Imprimir</button>
                <button id="btn-nueva-venta" class="btn btn-success">â• Nueva Venta</button>
            </div>
        </div>
    </div>

    <!-- Modal Ventas del DÃ­a -->
    <div id="modal-ventas-dia" class="modal hidden">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>ğŸ“Š Ventas del DÃ­a</h2>
                <button id="btn-close-ventas" class="btn-close">âœ•</button>
            </div>

            <div class="stats-ventas">
                <div class="stat-card">
                    <h3>Total Ventas</h3>
                    <p id="stat-cantidad" class="stat-number">0</p>
                </div>
                <div class="stat-card">
                    <h3>Monto Total</h3>
                    <p id="stat-monto" class="stat-number">S/ 0.00</p>
                </div>
            </div>

            <div class="ventas-lista" id="ventas-lista">
                <div class="loading">Cargando ventas...</div>
            </div>
        </div>
    </div>

    <!-- Modal Precio Parchado -->
    <div id="modal-precio-parchado" class="modal hidden">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>ğŸ’° Precio del Parchado</h2>
            </div>
            
            <div class="modal-body">
                <p>Se detectÃ³ venta de parches. Ingrese el precio del servicio de parchado:</p>
                <div class="form-group">
                    <label>Precio del Parchado *</label>
                    <input type="number" id="input-precio-parchado" step="0.01" min="0" placeholder="Ej: 25.00" class="form-control" required>
                </div>
            </div>

            <div class="modal-actions">
                <button id="btn-confirmar-parchado" class="btn btn-primary">Confirmar</button>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/ventas.js"></script>
</body>
</html>